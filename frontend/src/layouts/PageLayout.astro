---
import Layout from '~/layouts/BaseLayout.astro';
import Header from '~/components/widgets/Header.astro';
import Footer from '~/components/widgets/Footer.astro';

const { meta } = Astro.props;
---

<Layout {meta}>
  <Header />
  <main
    class="w-full parallax lg:bg-white lg:relative lg:z-30"
    data-parallax-rate="3"
    data-parallax-media="1024"
  >
    <slot />
    <script>
      import { addInitialParallaxOffset, listenForParallax } from '~/utils/parallax';
      window.addEventListener('scroll', () => listenForParallax('.parallax'));
      window.addEventListener('load', () => addInitialParallaxOffset('.parallax'));
    </script>
  </main>
  <Footer />
</Layout>
